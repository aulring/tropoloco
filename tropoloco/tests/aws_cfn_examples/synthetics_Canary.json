{"Type": "AWS::Synthetics::Canary", "Properties": {"Name": {"Ref": "samplecanary"}, "ExecutionRoleArn": {"Ref": "arn:aws:iam::123456789012:role/my-lambda-execution-role-to-run-canary"}, "Code": {"Handler": "pageLoadBlueprint.handler", "Script": "var synthetics = require('Synthetics');\nconst log = require('SyntheticsLogger');\n\nconst pageLoadBlueprint = async function (){\n\n    // INSERT URL here\n    const URL = \"https://amazon.com\";\n\n    let page = await synthetics.getPage();\n    const response = await page.goto(URL,{waitUntil: 'domcontentloaded', timeout: 30000});\n    //Wait for page to render.\n    //Increase or decrease wait time based on endpoint being monitored.\n    await page.waitFor(15000);\n    await synthetics.takeScreenshot('loaded', 'loaded');\n    let pageTitle = await page.title();\n    log.info('Page title: ' + pageTitle);\n    if (response.status() !== 200){\n        throw \"Failed to load page!\";\n    }\n};\n\nexports.handler = async () =>{\n    return await pageLoadBlueprint();\n};\n"}, "ArtifactS3Location": "s3://my-results-bucket", "RuntimeVersion": "syn-nodejs-puppeteer-3.3", "Schedule": {"Expression": "rate(1 minute)", "DurationInSeconds": 3600}, "RunConfig": {"TimeoutInSeconds": 60}, "FailureRetentionPeriod": 30, "SuccessRetentionPeriod": 30, "StartCanaryAfterCreation": false, "Tags": [{"Id": "key00AtCreate", "Value": "value001AtCreate"}]}}